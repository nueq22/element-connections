!function(){"use strict";var a=(t.prototype.createElement=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("fill","none"),e.setAttribute("stroke-width",t.width),e.setAttribute("stroke",t.color),this.points&&e.setAttribute("d",this.points),e},t.prototype.hideLine=function(){this.element.style.strokeDasharray=this.lineLength,this.element.style.strokeDashoffset=this.lineLength},t.prototype.animate=function(){var n=this;requestAnimationFrame(function(){var e=setInterval(function(){var t=Number(n.element.style.strokeDashoffset);0<t?n.element.style.strokeDashoffset=(t-25).toString():clearInterval(e)},16)})},t.prototype.formatPoints=function(t){var e=t.map(function(t){return t.x+","+t.y}).join(" ");return e.length?"M"+e:null},t);function t(t,e,n){this.points=this.formatPoints(t),this.element=this.createElement(e),this.lineLength=this.element.getTotalLength().toString(),n&&this.hideLine()}var l=(e.prototype.clear=function(){this.element.innerHTML=""},e.prototype.insert=function(t){this.element.appendChild(t)},e.prototype.autosize=function(){var t=this.parentElement.offsetWidth,e=this.parentElement.offsetHeight;this.element.setAttribute("viewBox","0 0 "+t+" "+e)},e.prototype.setupContainer=function(){var t=this;this.element.style.position="absolute",this.element.style.top="0",this.element.style.left="0",this.element.style.zIndex="-1",setTimeout(function(){t.autosize()},0)},e);function e(t){this.element=t,this.parentElement=t.parentElement||document.body,this.setupContainer()}var p={color:"black",width:"1"},n=(i.prototype.getPoints=function(){return this.elements.map(this.getCenter)},i.prototype.getCenter=function(t){var e=t.offsetTop;return{x:t.offsetLeft+t.offsetWidth/2,y:e+t.offsetHeight/2}},i.prototype.draw=function(){this.path=new a(this.points,this.style,this.animated)},i.prototype.handleResize=function(){window.addEventListener("resize",this.resizeListener)},i.prototype.destroy=function(){window.removeEventListener("resize",this.resizeListener)},i.prototype.animate=function(){this.path.animate()},i.prototype.render=function(){this.draw(),this.container.clear(),this.container.insert(this.path.element)},i);function i(t){var e=this,n=t.container,i=t.elements,s=t.style,o=void 0===s?p:s,r=t.animated,h=void 0!==r&&r;this.resizeListener=function(){requestAnimationFrame(function(){e.animated=!1,e.points=e.getPoints(),e.container.autosize(),e.render()})},this.container=new l(n),this.elements=i,this.points=this.getPoints(),this.animated=h,this.style={width:o.width||p.width,color:o.color||p.color},this.path=new a([],this.style,this.animated),this.render(),this.handleResize()}window.ElementConnections=n}();
